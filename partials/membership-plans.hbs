<div class="membership-plans-wrap" data-active-price="yearly">
  <div class="membership-switch">
    <div class="membership-switch-wrap">
      <button data-price="monthly">{{t "Monthly"}}</button>
      <button data-price="yearly">{{t "Yearly"}}</button>
    </div>
  </div>

  <div class="membership-plans">
    {{#if include-free}}
      {{^if @member}}
        {{#get "tiers" include="benefits" filter="visibility:public+type:free"}}
          {{#foreach tiers}}
            <div class="membership-plan membership-plan-free">
              <div class="membership-plan-header">
                <h2 class="membership-plan-title">{{name}}</h2>
                <h3 class="membership-plan-price">{{t "$"}}0</h3>
              </div>
              <div class="membership-plan-content">
                {{#if description}}<div class="membership-plan-description">{{description}}</div>{{/if}}
                <ul>
                  {{#foreach benefits as |benefit|}}
                    <li>{{benefit}}</li>
                  {{/foreach}}
                </ul>
              </div>
              <div class="membership-plan-footer">
                <a href="{{@site.url}}/signup/"><span>{{t "Sign up"}}</span></a>
              </div>
            </div>
          {{/foreach}}
        {{/get}}
      {{/if}}
    {{/if}}

    {{#get "tiers" include="monthly_price,yearly_price,benefits" filter="visibility:public+type:paid" limit="all"}}
      {{#foreach tiers}}
        <div class="membership-plan membership-plan-monthly {{#if @last}}is-last{{/if}}" data-monthly>
          <div class="membership-plan-header">
            <h2 class="membership-plan-title">{{name}}</h2>
            <h3 class="membership-plan-price">{{#if monthly_price}}{{price currency=currency}}{{price monthly_price}}<small>/ {{t "month"}}</small>{{else}}{{t "$"}}0<small>/ {{t "month"}}</small>{{/if}}</h3>
          </div>
          <div class="membership-plan-content">
            {{#if description}}<div class="membership-plan-description">{{description}}</div>{{/if}}
            {{#if benefits}}
              <ul>
                {{#foreach benefits as |benefit|}}
                  <li>{{benefit}}</li>
                {{/foreach}}
              </ul>
            {{/if}}
          </div>
          <div class="membership-plan-footer">
            <a href="javascript:" data-portal="signup/{{id}}/monthly"><span>{{t "Sign up"}}</span></a>
          </div>
        </div>

        <div class="membership-plan membership-plan-yearly {{#if @last}}is-last{{/if}}" data-yearly>
          <div class="membership-plan-header">
            <h2 class="membership-plan-title">{{name}}</h2>
            <h3 class="membership-plan-price">{{#if yearly_price}}{{price currency=currency}}{{price yearly_price}}<small>/ {{t "year"}}</small>{{else}}{{t "$"}}0<small>/ {{t "year"}}</small>{{/if}}</h3>
          </div>
          <div class="membership-plan-content">
            {{#if description}}<div class="membership-plan-description">{{description}}</div>{{/if}}
            {{#if benefits}}
              <ul>
                {{#foreach benefits as |benefit|}}
                  <li>{{benefit}}</li>
                {{/foreach}}
              </ul>
            {{/if}}
          </div>
          <div class="membership-plan-footer">
            <a href="javascript:" data-portal="signup/{{id}}/yearly"><span>{{t "Sign up"}}</span></a>
          </div>
        </div>
      {{/foreach}}
    {{/get}}
  </div>
</div>

<script>
! function() { const e = document.querySelector(".membership-plans-wrap"),
    g = document.querySelector(".membership-switch"),
    r = document.querySelectorAll(".membership-switch button"),
    c = document.querySelectorAll(".membership-plans-wrap [data-monthly]"),
    l = document.querySelectorAll(".membership-plans-wrap [data-yearly]");
  c.length > 0 && l.length > 0 && r.forEach(r => { g.style.display = "block", r.addEventListener("click", t => { e.setAttribute("data-active-price", r.getAttribute("data-price")) }) }) }();
</script>
